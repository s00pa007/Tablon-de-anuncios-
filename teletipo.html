<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teletipo de Noticias</title>
    <style>
        .teletipo-container {
            width: 100%;
            height: 20px;
            overflow: hidden;
            background: #fff;
            color: #000;
            font-size: 8px;
            font-family: "Courier New", Courier, monospace;
            font-weight: bold;
            border: 1px solid #000;
            position: relative;
        }

        .teletipo-text {
            white-space: nowrap;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            animation: moverIzquierda linear infinite;
            animation-delay: 0s;
        }

        @keyframes moverIzquierda {
            to { transform: translateY(-50%) translateX(-100%); }
        }
    </style>
</head>
<body>
    <div class="teletipo-container">
        <div id="teletipo" class="teletipo-text"></div>
    </div>

    <script>
        (function() {
            const sujetos = ["Samuel", "Julia", "Papi", "Mami", "Moncho", "Bagheera", "Abuelo", "Luisa", "Mónica", "Xiomara", "Nana", "Paco", "Abuelo Antonio", "Lolo", "Víctor", "Óscar el de la sortija", "La hija de Lolo", "El profe de Mate", "Goya", "Abby la peluquera"];
            const acciones = ["hizo caca", "hizo una receta de espaguetis inventado", "se tiró de cabeza", "le encanta ir", "hizo un maratón de ladridos", "decidió vender limonada de sabores raros", "trató de arreglar una bici usando palillos chinos", "montó un karaoke en la cocina", "se inventó una receta con chocolate y patatas fritas", "llevó toda la clase a la plaza para estudiar geometría con tiza", "hizo una torre de almohadas", "insistió en que las mariposas se mueven más rápido en días nublados", "decidió dormir en la bañera", "creó una canción de rap sobre la tabla del 5", "ganó el concurso de saltos en la colchoneta", "se disfrazó de detective para resolver el misterio del bocadillo perdido", "organizó una carrera de caracoles en el arenero", "convenció a todos de que el Wi-Fi tiene sabor a plátano", "se atascó en la puerta giratoria y dio vueltas durante diez minutos", "hizo malabares con mandarinas en el mercado", "discutió con el viento durante toda la tarde", "intentó hablar con el loro en japonés", "se subió a una mesa pensando que era un barco", "perdió una pelea con una escoba", "ganó un campeonato de saltos de sofá", "organizó una fiesta sorpresa para sí mismo"];
            const lugares = ["la colchoneta", "el arenero", "el cuarto de Julia", "el cuarto de Samuel", "el skatepark", "la Plaza del Charco", "el Tauro", "el Instituto", "la Playa del Socorro", "El Quinto Pino", "la casa de Abuelo", "la casa de Nana", "el Parque del Dragón", "el sofá", "el cuarto de baño", "el lago", "el parque marítimo", "la Playa de Punta Brava", "el muelle", "San Telmo", "la cueva del oso", "la azotea de los gritos", "el garaje encantado", "el túnel del susurro", "el árbol que habla", "la plaza de los charcos mágicos", "la nube flotante"];

            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function generarFrases(cantidad) {
                const sujetosBarajados = shuffle([...sujetos]);
                const accionesBarajadas = shuffle([...acciones]);
                const lugaresBarajados = shuffle([...lugares]);
                
                let frases = [];
                for (let i = 0; i < cantidad; i++) {
                    frases.push(`${sujetosBarajados[i % sujetos.length]} ${accionesBarajadas[i % acciones.length]} en ${lugaresBarajados[i % lugares.length]}.`);
                }
                return frases.join(' ');
            }

            function iniciarTeletipo() {
                const teletipo = document.getElementById('teletipo');
                const texto = generarFrases(20); // Generamos 20 frases aleatorias
                teletipo.textContent = texto + ' ' + texto;

                requestAnimationFrame(() => {
                    const anchuraTexto = teletipo.offsetWidth;
                    const duracionAnimacion = anchuraTexto / 50;
                    teletipo.style.animation = `moverIzquierda ${duracionAnimacion}s linear infinite`;
                });
            }

            // Función para inicializar el teletipo
            function inicializarTeletipo() {
                if (document.readyState === 'complete' || document.readyState === 'interactive') {
                    iniciarTeletipo();
                } else {
                    document.addEventListener('DOMContentLoaded', iniciarTeletipo);
                }
            }

            // Exponer la función de inicialización al ámbito global
            window.inicializarTeletipo = inicializarTeletipo;

            // Iniciar el teletipo automáticamente
            inicializarTeletipo();
        })();
    </script>
</body>
</html>